# Python学习笔记



## 文件



### 文件路径

**绝对路径：**

指的是绝对位置，完整地描述了目标的所在地，所有目录层级关系是一目了然的。

- 例如： `E:\python` ，从电脑的盘符开始，表示的就是一个绝对路径。

**相对路径**：

是从当前文件所在的文件夹开始的路径。

- `test.txt` ，是在当前文件夹查找`test.txt`文件
- `./test.txt` ，也是在当前文件夹里查找`test.txt `文件，`./ `表示的是当前文件夹。
- `../test.txt` ，从当前文件夹的上一级文件夹里查找 `test.txt `文件。`../`表示的是上一级文件夹。
- `demo/test.txt` ，在当前文件夹里查找 `demo `这个文件夹，并在这个文件夹里查找`test.txt`文件。



### 文件读写



#### 访问模式

| 访问模式 | 说明                                                         |
| :------: | ------------------------------------------------------------ |
|    r     | 以只读方式打开文件。文件的指针将会放在文件的开头。如果文件不存在，则报错。这是默认模式。 |
|    w     | 打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 |
|    a     | 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |
|    r+    | 打开一个文件用于读写。文件指针将会放在文件的开头。           |
|    w+    | 打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 |
|    a+    | 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。 |
|    rb    | 以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。 |
|    wb    | 以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 |
|    ab    | 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 |
|   rb+    | 以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。 |
|   wb+    | 以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 |
|   ab+    | 以二进制格式打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。 |



#### 读文件

##### read

```
f = open('test.txt', 'r')
content = f.read(5) # 最多读取5个数据
print(content)

content = f.read() # 从上次读取的位置继续读取剩下的所有的数据
print(content)

f.close() # 关闭文件，这个可是个好习惯哦
```



##### readline

readline只用来读取一行数据

```
f = open('test.txt', 'r')

content = f.readline()
print("1:%s" % content)

content = f.readline()
print("2:%s" % content)

f.close()
```



##### readlines

可以按照行的方式把整个文件中的内容进行一次性读取，并且返回的是一个列表，其中每一行为列表的一个元素

```
f = open('test.txt', 'r')

content = f.readlines()
print(type(content))

for temp in content:
	print(temp)

f.close()
```





#### 写文件



##### write

```
f = open('test.txt', 'w')
f.write('hello world, i am here!\n' * 5)
f.close()
```

如果文件不存在，那么创建；如果存在那么就先清空，然后写入数据



##### JSON

**序列化和反序列化**



反序列化    从文件的字节序列恢复到内存中

**JSON模块**
JSON(JavaScriptObjectNotation, JS对象简谱)是一种轻量级的数据交换标准。JSON的本质是字符串。

**使用JSON实现序列化**
JSON提供了dump和dumps方法，将一个对象进行序列化。

###### 序列化

把内存中的数据转换为字节序列，保存到文件，这就是序列化



**dumps**

dumps方法的作用是把对象转换成为字符串，它本身不具备将数据写入到文件的功能。

```
import json
file = open('names.txt', 'w')
names = ['zhangsan', 'lisi', 'wangwu', 'jerry', 'henry', 'merry', 'chris']

# file.write(names) 出错，不能直接将列表写入到文件里
# 可以调用 json的dumps方法，传入一个对象参数
# dumps 方法得到的结果是一个字符串
# 可以将字符串写入到文件里


result = json.dumps(names)

print(type(result)) # <class 'str'>

file.write(result)

file.close()
```

**dump**

dump方法可以在将对象转换成为字符串的同时，指定一个文件对象，把转换后的字符串写入到这个文件里。

```
import json
# dump方法可以接收一个文件参数，在将对象转换成为字符串的同时写入到文件里

file = open('names.txt', 'w')
names = ['zhangsan', 'lisi', 'wangwu', 'jerry', 'henry', 'merry', 'chris']

json.dump(names, file)

file.close()
```







###### 反序列化

从文件的字节序列恢复到内存中，就是反序列化



**loads**

loads方法需要一个字符串参数，用来将一个字符串加载成为Python对象

```
import json
# 调用loads方法，传入一个字符串，可以将这个字符串加载成为Python对象

result = json.loads('["zhangsan", "lisi", "wangwu", "jerry", "henry", "merry", "chris"]')

print(type(result)) # <class 'list'>
```



**load**

load方法可以传入一个文件对象，用来将一个文件对象里的数据加载成为Python对象

```
import json
# 以可读方式打开一个文件
# 调用load方法，将文件里的内容加载成为一个Python对象

file = open('names.txt', 'r')

result = json.load(file)

print(result)
file.close()
```





#### 关闭文件

```
# 新建一个文件，文件名为:test.txt
f = open('test.txt', 'w')

# 关闭这个文件
f.close()
```



#### 异常

> try:
> 	可能会出现异常的代码块
> except 异常的类型:
> 	出现异常以后的处理语句

```
try:
 	f = open('test.txt', 'r')
 	print(f.read())
except FileNotFoundError:
 	print('文件没有找到,请检查文件名称是否正确')
```







## 函数

```
def 函数名():
	代码
	
def add2num(a, b):
	c = a+b
	return c # return 后可以写变量名

```





## 数据



### 数据类型

type(obj)：用于判断一个未知对象的类型



#### number（数字）

int  		(整型)

float	（浮点型）

 bool	（布尔）

 complex（复数）

类型转换：int(),	float()…



#### string（字符串）



字符串需要用单引号 ’ ’ 或双引号 " " 括起来 三引号C注释

字符串也是一种特殊的元组。不能改变字符串中的某个元素的值

String类型运算：

\+					对多个字符串进行连接 

\*					重复输出字符串n次 字符串名

[ : ] 				截取字符串的一部分

?							（最左边索引值为0，最右边索引值为-1，倒数第二索引值为-2…）

字符串名[  ] 	通过索引获取字符串中单个字符

in / not in 		判断单个字符是 / 不是在字符串中 

r/R 				  将转义字符等特殊字符也当成普通字符

基础操作：索引、切片、乘法-多次输出、成员资格检查、长度、最大值、最小值



**字符串的常见操作包括：**

获取长度:len						  	len函数可以获取字符串的长度。

查找内容:find 							查找指定内容在字符串中是否存在

?										  		如果存在就返回该内容在字符串中第一次出现的开始位置索引值，如果不存在，则返回-1.

判断:startswith,endswith ?		判断字符串是不是以谁谁谁开头/结尾

计算出现次数:count				  返回 str在start和end之间 在 mystr里面出现的次数

替换内容:replace						替换字符串中指定的内容，如果指定次数count，则替换不会超过count次。

切割字符串:split 						通过参数的内容切割字符串

修改大小写:upper,lower    	 	将字符串中的大小写互换

空格处理:strip						    去空格

字符串拼接:join                          字符串拼接



#### list（列表）

append（用于将一个对象附加到列表尾部）

insert     (insert(index, object) 在指定位置index前插入元素object)

extend（将列表附加到列表） 

pop	 （从列表中删除一个元素―没有添加索引默认最后一个元素，并返回这一元素）

remove（用于删除第一个为指定值的元素）

del	 (根据下标进行删除)

reverse（按相反的顺序排列列表中的元素）

sort（对列表顺序排列）

in 某个项是否在列表中

> list 的数据项可以不同类型
>
> list 的各个元素可以改变
>
> list 是使用 [ ] 方括号包含各个数据项
>
> \+多个列表进行合并成一个列表 
>
> \*列表重复输出多次
>



#### tuple（元组）

tuple 是使用 ( ) 小括号包含各个数据项

tuple 与 list 的唯一区别是 tuple 的元素是不能修改，而 list 的元素可以修改



#### set（集合）

```python
set1 = {'me', 'you', 'she', 'me'}
print(set1)
```



> set 是一个无序不重复元素的序列
>
> 使用大括号 { } 或者 set() 函数创建集合
>
> 用 set() 创建一个空集合使用 
>
> set 可以去重



#### dictionary（字典）

dict1 = {'name': 'HHgzs', 'age': 18}

```
info = {'name':'班长','age':18}

print(info['age']) # 获取年龄

# print(info['sex']) # 获取不存在的key，会发生异常

print(info.get('sex')) # 获取不存在的key，获取到空的内容，不会出现异常
print(info.get('sex'， '男')) # 获取不存在的key, 可以提供一个默认值。

info['id'] = 200 # 为已存在的键赋值就是修改

del info['name'] # del 可以通过键删除字典里的指定元素
del info # del 也可以直接删除变量

info.clear() # clear清空整个字典

#遍历字典的key (键)
for key in dictkeys():
	print key
	
#遍历字典的value (值)
for value in dict.values( ):
	print value

#遍历字典的项(元素)
for item in dict.items( ):
	print item

```









### 切片

切片是指对操作的对象截取其中一部分的操作。**字符串、列表、元组**都支持切片操作。

切片的语法：[起始:结束:步长]，也可以简化使用 [起始:结束]

注意：选取的区间从"起始"位开始，到"结束"位的前一位结束（不包含结束位本身)，步长表示选取间隔






### 类型转换

| 函数     | 说明                  |
| -------- | --------------------- |
| int(x)   | 将x转换为一个整数     |
| float(x) | 将x转换为一个浮点数   |
| str(x)   | 将对象 x 转换为字符串 |
| bool(x)  | 将对象x转换成为布尔值 |



## 运算符

### 算数运算符

以a=10 ,b=20为例进行计算

| 运算符 | 描述   | 实例                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| +      | 加     | 两个对象相加 a + b 输出结果 30                               |
| -      | 减     | 得到负数或是一个数减去另一个数 a - b                         |
| *      | 乘     | 两个数相乘或是返回一个被重复若干次的字符串 a * b 输出结果 200 |
| /      | 除     | b / a 输出结果 2                                             |
| //     | 取整除 | 返回商的整数部分 9//2 输出结果 4 , 9.0//2.0 输出结果 4.0     |
| %      | 取余   | 返回除法的余数 b % a 输出结果 0                              |
| **     | 指数   | a**b 为10的20次方                                            |
| ()     | 小括号 | 提高运算优先级，比如: (1+2) * 3                              |



### 复合赋值运算符

| 运算符 | 描述             | 实例                       |
| ------ | ---------------- | -------------------------- |
| +=     | 加法赋值运算符   | c += a 等效于 c = c + a    |
| -=     | 减法赋值运算符   | c -= a 等效于 c = c - a    |
| *=     | 乘法赋值运算符   | c *= a 等效于 c = c * a    |
| /=     | 除法赋值运算符   | c /= a 等效于 c = c / a    |
| //=    | 取整除赋值运算符 | c //= a 等效于 c = c // a  |
| %=     | 取模赋值运算符   | c %= a 等效于 c = c % a    |
| **=    | 幂赋值运算符     | c \**= a 等效于 c = c ** a |

### 比较运算符

以下假设变量a为10，变量b为20：

| 运算符 | 描述                                                         | 实例               |
| ------ | ------------------------------------------------------------ | ------------------ |
| ==     | 等于:比较对象是否相等                                        | (a == b) 返回False |
| !=     | 不等于:比较两个对象是否不相等                                | (a != b) 返回true  |
| >      | 大于:返回x是否大于y                                          | (a > b) 返回False  |
| >=     | 大于等于:返回x是否大于等于y                                  | (a >= b) 返回False |
| <      | 小于:返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价 | (a < b) 返回true   |
| <=     | 小于等于:返回x是否小于等于y                                  | (a <= b) 返回true  |



### 逻辑运算符

| 运算符 | 逻辑表达式 | 描述                                                         | 实例                                                         |
| ------ | ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| and    | x and y    | 只要有一个运算数是False，结果就是False;只有所有的运算数都为True时，结果才是True做取值运算时，取第一个为False的值，如果所有的值都为True,取最后一个值 | True and True and FalseC>结果为False True and True and TrueC>结果为True |
| or     | x or y     | 只要有一个运算数是True，结果就是True;只有所有的运算数都为False时，结果才是False做取值运算时，取第个为True的值，如果所有的值都为False,取最后一个值 | False or False or TrueC>结果为True False or False or FalseC>结果为False |
| not    | not x      | 布尔"非" - 如果 x 为 True，返回 False 。如果 x 为False，它返回 True。 | not True --> False                                           |